# Changelog

## v1.1.3

### 🔒 安全增强

- 启用 better-auth 内置 Rate Limiting
  - 全局限制：60秒内最多100次请求
  - 登录限制：60秒内最多5次尝试
  - 注册限制：60秒内最多3次尝试
  - 使用数据库存储，支持 serverless 环境

### ✨ 新功能

- Admin 内容管理添加搜索功能，支持按标题和内容搜索

### 🎨 UI 改进

- Admin 文章和评论列表支持响应式设计，移动端显示卡片视图

### 📦 数据库变更

- 新增 `rateLimit` 表用于存储限流数据

## v1.1.2

### 🔒 安全修复

- Admin 后台添加角色验证，非管理员用户无法访问
- 所有删除操作添加二次确认对话框，防止误操作

### ✨ 新功能

- 标签支持编辑（重命名）功能
- Admin Posts 和 Comments 列表支持分页
- 操作反馈 Toast 提示（成功/失败）

### 🐛 Bug 修复

- 删除文章时级联清理评论和标签关联数据

### 🔧 改进

- Blog 公开页面支持暗色模式
- 新增通用删除确认组件 DeleteButton
- 重构 Posts/Comments 表格为客户端组件

### 📦 依赖更新

- 新增 sonner (Toast 通知)

## v1.1.1

### ✨ 新功能

- 添加 ASBP 图标

### 🔧 改进

- 修复移动界面显示错误

## v1.1.0

### ✨ 新功能

**评论系统增强**
- 支持嵌套回复：访客和用户可以回复特定评论，形成对话式讨论
- 访客网站字段：评论者可以留下个人网站链接
- Gravatar 头像：根据访客邮箱自动显示 Gravatar 头像

**Passkey 无密码登录**
- 支持 WebAuthn/Passkey 认证，可使用指纹、面容或安全密钥登录
- 管理后台新增 Passkey 管理页面，支持添加和删除设备
- 显示设备类型和备份状态

**密码管理**
- 新增修改密码功能，支持在后台更新账户密码
- 密码可见性切换

**媒体存储增强**
- S3 CDN 域名支持：可配置自定义域名加速媒体访问
- 发件人邮箱配置：可自定义评论通知的发件人地址

**国际化 (i18n)**
- 完整的中英文双语支持
- 基于 next-intl 的国际化架构

### 🔧 改进

- 评论区 UI 重构，更现代的交互体验
- 随记页面支持管理员快速发布和编辑
- 用户管理页面支持编辑头像、简介和个人链接

### 📦 依赖更新

- Next.js 16.0.10
- React 19.2.1
- better-auth 1.4.6 (含 @better-auth/passkey)
- next-intl 4.5.8
